buildscript {
    dependencies {
        classpath 'com.bmuschko:gradle-tomcat-plugin:2.7.0'
    }
}

plugins {
	id 'war'
}
apply plugin: 'eclipse'
apply plugin: 'com.bmuschko.tomcat'

repositories.mavenCentral()
sourceCompatibility = 17
tasks.withType(JavaCompile) {options.encoding = 'UTF-8'}

//sourceSets.main.java.srcDirs = ['build/jasper']

dependencies {
	
	// Tomcat 9 (javax)
	compileOnly 'jakarta.servlet:jakarta.servlet-api:4.0.+'
	runtimeOnly 'jakarta.servlet.jsp.jstl:jakarta.servlet.jsp.jstl-api:1.2.+'
	runtimeOnly 'org.apache.taglibs:taglibs-standard-impl:1.2.+'
	implementation 'org.jodd:jodd-servlet:6.0.+'
	
	// Tomcat 9 (JSP)
	providedCompile 'javax.el:javax.el-api:3.0.1-+'
	providedCompile 'javax.servlet.jsp:javax.servlet.jsp-api:2.3.+'
	providedCompile 'org.apache.tomcat:tomcat-jasper:9.0.+'
	tomcat "org.apache.tomcat.embed:tomcat-embed-core:9.0.+",
           "org.apache.tomcat.embed:tomcat-embed-jasper:9.0.+"
	
	// Tomcat 10.0 (jakarta)
	//compileOnly 'jakarta.servlet:jakarta.servlet-api:5.0.+'
	//runtimeOnly 'jakarta.servlet.jsp.jstl:jakarta.servlet.jsp.jstl-api:2.0.+'
	//runtimeOnly 'org.glassfish.web:jakarta.servlet.jsp.jstl:2.0.+'
	
	// Tomcat 10.1 (jakarta)
	//compileOnly 'jakarta.servlet:jakarta.servlet-api:6.0.+'
	//runtimeOnly 'jakarta.servlet.jsp.jstl:jakarta.servlet.jsp.jstl-api:3.0.+'
	//runtimeOnly 'org.glassfish.web:jakarta.servlet.jsp.jstl:3.0.+'

	implementation 'com.google.guava:guava:31.+'
	implementation 'com.zaxxer:HikariCP:5.0.+'
	implementation 'commons-beanutils:commons-beanutils:1.9.+'
	implementation 'org.apache.commons:commons-lang3:3.12.+'	
	implementation 'jp.co.future:uroborosql:0.24.+'
	compileOnly 'org.projectlombok:lombok:1.18.+'
	annotationProcessor 'org.projectlombok:lombok:1.18.+'
	runtimeOnly 'com.h2database:h2:2.1.+'
	runtimeOnly 'org.slf4j:slf4j-simple:1.7.+'
	runtimeOnly 'ognl:ognl:3.3.+'
}
